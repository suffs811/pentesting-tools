#!/bin/bash	

ip=$1

if [ $ip == "" ] || [ $ip == " " ];then
	echo
	echo "[-] provide an ip address"
	echo
	echo "usage: webrecon 10.0.0.0"
	echo
	exit
fi

echo "################################"
echo "########## WebRecon ############"
echo "################################"
echo
echo "[#] Scanning $ip... [#]"
echo

if [ ! -d "web" ];then
	mkdir web
fi
if [ ! -d "web/recon" ];then
	mkdir web/recon
fi

echo
echo "[+] getting subdomains..."
assetfinder $ip >> web/recon/subdomains.txt &

echo 
echo "[+] scanning robots.txt..."
curl $ip/robots.txt &

echo
echo "[+] scanning with nikto..."
nikto -h $ip -f -F htm -o nikto.html &

echo
echo "[+] getting directories..."
gobuster dir -u $ip -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt -o directories.txt &

echo
ffuf -u http://$ip:FUZZ -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt:FUZZ -c

echo
dirb $ip
